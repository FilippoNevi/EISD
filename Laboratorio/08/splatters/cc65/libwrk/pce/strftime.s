;
; File generated by cc65 v 2.17 - Git 582aa41
;
	.fopt		compiler,"cc65 v 2.17 - Git 582aa41"
	.setcpu		"HUC6280"
	.smart		on
	.autoimport	on
	.case		on
	.debuginfo	off
	.importzp	sp, sreg, regsave, regbank
	.importzp	tmp1, tmp2, tmp3, tmp4, ptr1, ptr2, ptr3, ptr4
	.macpack	longbranch
	.import		_strlen
	.import		_memcpy
	.import		_sprintf
	.import		__tz
	.export		_strftime

.segment	"RODATA"

L00DF:
	.byte	$25,$2E,$33,$73,$20,$25,$2E,$33,$73,$25,$33,$64,$20,$25,$30,$32
	.byte	$64,$3A,$25,$30,$32,$64,$3A,$25,$30,$32,$64,$20,$25,$64,$00
L006E:
	.byte	$25,$30,$34,$64,$2D,$25,$30,$32,$64,$2D,$25,$30,$32,$64,$00
L0118	:=	L006E+0
L0064:
	.byte	$25,$30,$32,$64,$2F,$25,$30,$32,$64,$2F,$25,$30,$32,$64,$00
L00B7:
	.byte	$25,$30,$32,$64,$3A,$25,$30,$32,$64,$3A,$25,$30,$32,$64,$00
L000D:
	.byte	$57,$65,$64,$6E,$65,$73,$64,$61,$79,$00
L0027:
	.byte	$53,$65,$70,$74,$65,$6D,$62,$65,$72,$00
L0019:
	.byte	$46,$65,$62,$72,$75,$61,$72,$79,$00
L0013:
	.byte	$53,$61,$74,$75,$72,$64,$61,$79,$00
L002B:
	.byte	$4E,$6F,$76,$65,$6D,$62,$65,$72,$00
L000F:
	.byte	$54,$68,$75,$72,$73,$64,$61,$79,$00
L002D:
	.byte	$44,$65,$63,$65,$6D,$62,$65,$72,$00
L0017:
	.byte	$4A,$61,$6E,$75,$61,$72,$79,$00
L0029:
	.byte	$4F,$63,$74,$6F,$62,$65,$72,$00
L000B:
	.byte	$54,$75,$65,$73,$64,$61,$79,$00
L0025:
	.byte	$41,$75,$67,$75,$73,$74,$00
L0011:
	.byte	$46,$72,$69,$64,$61,$79,$00
L0007:
	.byte	$53,$75,$6E,$64,$61,$79,$00
L0009:
	.byte	$4D,$6F,$6E,$64,$61,$79,$00
L001B:
	.byte	$4D,$61,$72,$63,$68,$00
L001D:
	.byte	$41,$70,$72,$69,$6C,$00
L007F	:=	L006E+10
L0088	:=	L006E+10
L0122	:=	L006E+10
L0021:
	.byte	$4A,$75,$6E,$65,$00
L009B	:=	L006E+10
L00A2	:=	L006E+10
L00AA	:=	L006E+10
L00FD	:=	L006E+10
L00F5:
	.byte	$25,$30,$33,$64,$00
L00CF:
	.byte	$25,$2E,$33,$73,$00
L00D7	:=	L00CF+0
L0078	:=	L006E+10
L00EE	:=	L006E+10
L0023:
	.byte	$4A,$75,$6C,$79,$00
L001F:
	.byte	$4D,$61,$79,$00
L00C0:
	.byte	$25,$34,$64,$00
L010A:
	.byte	$41,$4D,$00
L0111	:=	L00DF+28
L0094:
	.byte	$61,$6D,$00
L0091:
	.byte	$70,$6D,$00
L0107:
	.byte	$50,$4D,$00

; ---------------------------------------------------------------
; unsigned int __near__ __fastcall__ strftime (__near__ unsigned char *, unsigned int, __near__ const unsigned char *, __near__ const struct tm *)
; ---------------------------------------------------------------

.segment	"CODE"

.proc	_strftime: near

.segment	"RODATA"

L0006:
	.addr	L0007
	.addr	L0009
	.addr	L000B
	.addr	L000D
	.addr	L000F
	.addr	L0011
	.addr	L0013
L0016:
	.addr	L0017
	.addr	L0019
	.addr	L001B
	.addr	L001D
	.addr	L001F
	.addr	L0021
	.addr	L0023
	.addr	L0025
	.addr	L0027
	.addr	L0029
	.addr	L002B
	.addr	L002D

.segment	"BSS"

L002F:
	.res	2,$00
L0030:
	.res	2,$00
L0031:
	.res	1,$00
L0033:
	.res	40,$00
L0034:
	.res	2,$00

.segment	"CODE"

	jsr     pushax
	stz     L002F
	stz     L002F+1
L0037:	lda     L002F
	ldy     #$04
	cmp     (sp),y
	lda     L002F+1
	iny
	sbc     (sp),y
	bcc     L003B
	ldx     #$00
	txa
	jmp     incsp8
L003B:	ldy     #$03
	jsr     ldaxysp
	sta     regsave
	stx     regsave+1
	ina
	bne     L0042
	inx
L0042:	ldy     #$02
	jsr     staxysp
	lda     (regsave)
	sta     L0031
	cmp     #$00
	bne     L013C
	ldy     #$07
	jsr     ldaxysp
	sta     ptr1
	stx     ptr1+1
	lda     #$00
	sta     (ptr1)
	lda     L002F
	ldx     L002F+1
	jmp     incsp8
L013C:	lda     L0031
	cmp     #$25
	jne     L0046
	lda     #>(L0033)
	sta     L0034+1
	lda     #<(L0033)
	sta     L0034
	ldy     #$03
	jsr     ldaxysp
	sta     regsave
	stx     regsave+1
	ina
	bne     L004B
	inx
L004B:	ldy     #$02
	jsr     staxysp
	lda     (regsave)
	cmp     #$25
	jeq     L013E
	cmp     #$41
	jeq     L0057
	cmp     #$42
	jeq     L005C
	cmp     #$44
	jeq     L0061
	cmp     #$46
	jeq     L006B
	cmp     #$48
	jeq     L0075
	cmp     #$49
	jeq     L007C
	cmp     #$4D
	jeq     L0085
	cmp     #$50
	jeq     L008C
	cmp     #$53
	jeq     L0098
	cmp     #$55
	jeq     L009F
	cmp     #$57
	jeq     L00A7
	cmp     #$58
	jeq     L00B4
	cmp     #$59
	jeq     L00BD
	cmp     #$5A
	jeq     L00C4
	cmp     #$61
	jeq     L00CC
	cmp     #$62
	jeq     L00D4
	cmp     #$63
	jeq     L00DC
	cmp     #$64
	jeq     L00EB
	cmp     #$6A
	jeq     L00F2
	cmp     #$6D
	jeq     L00FA
	cmp     #$70
	jeq     L0102
	cmp     #$77
	jeq     L010E
	cmp     #$78
	jeq     L0115
	cmp     #$79
	jeq     L011F
	jmp     L013F
L013E:	sta     L0033
	stz     L0033+1
	jmp     L004D
L0057:	jsr     ldax0sp
	ldy     #$0D
	jsr     ldaxidx
	jsr     aslax1
	clc
	adc     #<(L0006)
	tay
	txa
	adc     #>(L0006)
	tax
	tya
	jsr     ldaxi
	sta     L0034
	stx     L0034+1
	jmp     L004D
L005C:	jsr     ldax0sp
	ldy     #$09
	jsr     ldaxidx
	jsr     aslax1
	clc
	adc     #<(L0016)
	tay
	txa
	adc     #>(L0016)
	tax
	tya
	jsr     ldaxi
	sta     L0034
	stx     L0034+1
	jmp     L004D
L0061:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L0064)
	ldx     #>(L0064)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$09
	jsr     ldaxidx
	ina
	bne     L0067
	inx
L0067:	jsr     pushax
	ldy     #$07
	jsr     ldaxysp
	ldy     #$07
	jsr     pushwidx
	ldy     #$09
	jsr     ldaxysp
	ldy     #$0B
	jsr     pushwidx
	ldx     #$00
	lda     #$64
	jsr     tosmoda0
	jsr     pushax
	ldy     #$0A
	jsr     _sprintf
	jmp     L004D
L006B:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L006E)
	ldx     #>(L006E)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$0B
	jsr     ldaxidx
	sta     ptr1
	stx     ptr1+1
	lda     #$6C
	clc
	adc     ptr1
	pha
	lda     #$07
	adc     ptr1+1
	tax
	pla
	jsr     pushax
	ldy     #$07
	jsr     ldaxysp
	ldy     #$09
	jsr     ldaxidx
	ina
	bne     L0072
	inx
L0072:	jsr     pushax
	ldy     #$09
	jsr     ldaxysp
	ldy     #$07
	jsr     pushwidx
	ldy     #$0A
	jsr     _sprintf
	jmp     L004D
L0075:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L0078)
	ldx     #>(L0078)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$05
	jsr     pushwidx
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L007C:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L007F)
	ldx     #>(L007F)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$05
	jsr     ldaxidx
	ldy     #$0B
	jsr     incaxy
	jsr     pushax
	ldx     #$00
	lda     #$0C
	jsr     tosmoda0
	ina
	bne     L0083
	inx
L0083:	jsr     pushax
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L0085:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L0088)
	ldx     #>(L0088)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$03
	jsr     pushwidx
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L008C:	jsr     ldax0sp
	ldy     #$05
	jsr     ldaxidx
	cmp     #$0C
	txa
	sbc     #$00
	bvs     L0090
	eor     #$80
L0090:	bpl     L0092
	lda     #<(L0091)
	ldx     #>(L0091)
	bra     L0095
L0092:	lda     #<(L0094)
	ldx     #>(L0094)
L0095:	sta     L0034
	stx     L0034+1
	jmp     L004D
L0098:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L009B)
	ldx     #>(L009B)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	jsr     pushw
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L009F:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L00A2)
	ldx     #>(L00A2)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$0F
	jsr     ldaxidx
	jsr     incax7
	jsr     pushax
	ldy     #$07
	jsr     ldaxysp
	ldy     #$0D
	jsr     ldaxidx
	jsr     tossubax
	jsr     pushax
	lda     #$07
	jsr     tosdiva0
	jsr     pushax
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L00A7:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L00AA)
	ldx     #>(L00AA)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$0F
	jsr     ldaxidx
	jsr     incax7
	jsr     pushax
	ldy     #$07
	jsr     ldaxysp
	ldy     #$0C
	sta     ptr1
	stx     ptr1+1
	lda     (ptr1),y
	iny
	ora     (ptr1),y
	beq     L00AF
	ldy     #$07
	jsr     ldaxysp
	ldy     #$0D
	jsr     ldaxidx
	jsr     decax1
	bra     L00B1
L00AF:	tax
	lda     #$06
L00B1:	jsr     tossubax
	jsr     pushax
	lda     #$07
	jsr     tosdiva0
	jsr     pushax
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L00B4:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L00B7)
	ldx     #>(L00B7)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$05
	jsr     pushwidx
	ldy     #$07
	jsr     ldaxysp
	ldy     #$03
	jsr     pushwidx
	ldy     #$09
	jsr     ldaxysp
	jsr     pushw
	ldy     #$0A
	jsr     _sprintf
	jmp     L004D
L00BD:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L00C0)
	ldx     #>(L00C0)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$0B
	jsr     ldaxidx
	sta     ptr1
	stx     ptr1+1
	lda     #$6C
	clc
	adc     ptr1
	pha
	lda     #$07
	adc     ptr1+1
	tax
	pla
	jsr     pushax
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L00C4:	jsr     ldax0sp
	ldy     #$10
	sta     ptr1
	stx     ptr1+1
	lda     (ptr1),y
	iny
	ora     (ptr1),y
	beq     L00C7
	lda     #<(__tz+10)
	ldx     #>(__tz+10)
	bra     L00C9
L00C7:	lda     #<(__tz+5)
	ldx     #>(__tz+5)
L00C9:	sta     L0034
	stx     L0034+1
	jmp     L004D
L00CC:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L00CF)
	ldx     #>(L00CF)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$0D
	jsr     ldaxidx
	jsr     aslax1
	clc
	adc     #<(L0006)
	tay
	txa
	adc     #>(L0006)
	tax
	tya
	jsr     pushw
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L00D4:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L00D7)
	ldx     #>(L00D7)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$09
	jsr     ldaxidx
	jsr     aslax1
	clc
	adc     #<(L0016)
	tay
	txa
	adc     #>(L0016)
	tax
	tya
	jsr     pushw
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L00DC:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L00DF)
	ldx     #>(L00DF)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$0D
	jsr     ldaxidx
	jsr     aslax1
	clc
	adc     #<(L0006)
	tay
	txa
	adc     #>(L0006)
	tax
	tya
	jsr     pushw
	ldy     #$07
	jsr     ldaxysp
	ldy     #$09
	jsr     ldaxidx
	jsr     aslax1
	clc
	adc     #<(L0016)
	tay
	txa
	adc     #>(L0016)
	tax
	tya
	jsr     pushw
	ldy     #$09
	jsr     ldaxysp
	ldy     #$07
	jsr     pushwidx
	ldy     #$0B
	jsr     ldaxysp
	ldy     #$05
	jsr     pushwidx
	ldy     #$0D
	jsr     ldaxysp
	ldy     #$03
	jsr     pushwidx
	ldy     #$0F
	jsr     ldaxysp
	jsr     pushw
	ldy     #$11
	jsr     ldaxysp
	ldy     #$0B
	jsr     ldaxidx
	sta     ptr1
	stx     ptr1+1
	lda     #$6C
	clc
	adc     ptr1
	pha
	lda     #$07
	adc     ptr1+1
	tax
	pla
	jsr     pushax
	ldy     #$12
	jsr     _sprintf
	jmp     L004D
L00EB:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L00EE)
	ldx     #>(L00EE)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$07
	jsr     pushwidx
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L00F2:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L00F5)
	ldx     #>(L00F5)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$0F
	jsr     ldaxidx
	ina
	bne     L00F8
	inx
L00F8:	jsr     pushax
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L00FA:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L00FD)
	ldx     #>(L00FD)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$09
	jsr     ldaxidx
	ina
	bne     L0100
	inx
L0100:	jsr     pushax
	ldy     #$06
	jsr     _sprintf
	jmp     L004D
L0102:	jsr     ldax0sp
	ldy     #$05
	jsr     ldaxidx
	cmp     #$0C
	txa
	sbc     #$00
	bvs     L0106
	eor     #$80
L0106:	bpl     L0108
	lda     #<(L0107)
	ldx     #>(L0107)
	bra     L010B
L0108:	lda     #<(L010A)
	ldx     #>(L010A)
L010B:	sta     L0034
	stx     L0034+1
	jmp     L004D
L010E:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L0111)
	ldx     #>(L0111)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$0D
	jsr     pushwidx
	ldy     #$06
	jsr     _sprintf
	bra     L004D
L0115:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L0118)
	ldx     #>(L0118)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$0B
	jsr     ldaxidx
	sta     ptr1
	stx     ptr1+1
	lda     #$6C
	clc
	adc     ptr1
	pha
	lda     #$07
	adc     ptr1+1
	tax
	pla
	jsr     pushax
	ldy     #$07
	jsr     ldaxysp
	ldy     #$09
	jsr     ldaxidx
	ina
	bne     L011C
	inx
L011C:	jsr     pushax
	ldy     #$09
	jsr     ldaxysp
	ldy     #$07
	jsr     pushwidx
	ldy     #$0A
	jsr     _sprintf
	bra     L004D
L011F:	lda     #<(L0033)
	ldx     #>(L0033)
	jsr     pushax
	lda     #<(L0122)
	ldx     #>(L0122)
	jsr     pushax
	ldy     #$05
	jsr     ldaxysp
	ldy     #$0B
	jsr     pushwidx
	ldx     #$00
	lda     #$64
	jsr     tosmoda0
	jsr     pushax
	ldy     #$06
	jsr     _sprintf
	bra     L004D
L013F:	stz     L0033
L004D:	lda     L0034
	ldx     L0034+1
	jsr     _strlen
	sta     L0030
	stx     L0030+1
	clc
	adc     L002F
	sta     L002F
	txa
	adc     L002F+1
	sta     L002F+1
	lda     L002F
	ldy     #$04
	cmp     (sp),y
	lda     L002F+1
	iny
	sbc     (sp),y
	jcs     L0037
	ldy     #$09
	jsr     pushwysp
	lda     L0034
	ldx     L0034+1
	jsr     pushax
	lda     L0030
	ldx     L0030+1
	jsr     _memcpy
	lda     L0030
	ldx     L0030+1
	ldy     #$06
	jsr     addeqysp
	jmp     L0037
L0046:	ldy     #$07
	jsr     ldaxysp
	sta     regsave
	stx     regsave+1
	ina
	bne     L0138
	inx
L0138:	ldy     #$06
	jsr     staxysp
	lda     L0031
	sta     (regsave)
	inc     L002F
	jne     L0037
	inc     L002F+1
	jmp     L0037

.endproc

